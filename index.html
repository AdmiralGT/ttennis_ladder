<!DOCTYPE HTML>
<html lang="en-US">

<head>
  <script src="json2.js"> </script> <!-- this to make IE work -->
  <script src="jquery-1.10.2.min.js"> </script>
  <script src="jsrender.js"> </script>
  <script src="footy.js"> </script>
  <link rel="stylesheet" href="footy.css" />

  <link href='http://fonts.googleapis.com/css?family=Port+Lligat+Slab' rel='stylesheet' type='text/css'>

  <title>Table Tennis</title>
</head>

<body>
<script>

$("#addsingles").click(function(){ alert("yo"); });

$( document ).ready(function() { startup(); drawtable(); addClickHandlers();});

</script>

<h1>Table Tennis Rankings</h1>
<hr>
<div class="resultadder"> <!-- spacer --> &nbsp; </div>

<!-- Old results adder, let's leave it here for posterity in case we want to
     reimplement it.
<div class="resultadder">
<ul>
<li>Add a result: <input type="text" value="" name="winner1" id="sw1"> bt <input id="sl1" type="text" value="" name="loser1">
  <button id="addsingles">Add</button>
</li>
<li>&nbsp;</li>
</ul>
</div>
-->

<div class="resultadder">
<ul>
<li>New UI! Enter the players and click the Winner button corresponding to which player won the match. Clear the players using the Clear button</li>
<li>&nbsp;</li>
<li>
  Add results: <button id="add_single_left">Winner</button>
  <input type="text" value="" name="l_player" id="player_left"> vs <input id="player_right" type="text" value="" name="r_player">
  <button id="add_single_right">Winner</button>
  <button id="clear_results_players">Clear</button>
</li>
<li>&nbsp;</li>
</ul>
</div>
<hr>

<div id="outer_tbl">
  <div id="main_ladder" class="main_column">
    <div class="hdr playerrow">
      <div class="ladder lad_pos">Pos</div>
      <div class="ladder lad_rank">Rating</div>
      <div class="ladder lad_player">Player</div>
      <div class="ladder lad_record">Record</div>
      <div class="ladder lad_past">Past</div>
    </div>
    <div id="s_tbl">
      <div id="player" class="playerrow"></div>
    </div>
    <div class="inactive_hdr">Inactive Players</div>
    <div id="inactive_tbl">
      <div id="player" class="playerrow"></div>
    </div>
  </div>

  <div id="recent_res_tbl" class="secondary_column">
    <div class="hdr">Recent Results</div>
    <div id="rec_res_tbl">
      <div id="result" class="resultrow"></div>
    </div>
  </div>
</div>

<script id="playerTemplate" type="text/x-jsrender">
    <div id="player" class="playerrow
{{if ((pos % 10) == 0)}}
 playerrow10
{{/if}}
{{if (pos == 1)}}
 playerrow1
{{/if}}
{{if (pos == 2)}}
 playerrow2
{{/if}}
{{if (pos == 3)}}
 playerrow3
{{/if}}
">
      <div class="ladder lad_pos">{{:pos}}</div>
      <div class="ladder lad_rank">{{:pad_rank}}</div>
      <div class="ladder lad_player">
        <a class="idlink" href="player.html?{{:id}}">{{:id}}</a>
      </div>
      <div class="ladder lad_record">{{:record}}</div>
      <div class="ladder lad_past">{{:gamerun}}</div>
    </div>
</script>

<script id="inactive_player_template" type="text/x-jsrender">
    <div id="player" class="playerrow 
{{if ((pos % 10) == 0)}}
 playerrow10
{{/if}}
">
      <div class="ladder lad_pos">{{:pos}}</div>
      <div class="ladder lad_rank">{{:pad_rank}}</div>
      <div class="ladder lad_player">
        <a class="idlink" href="player.html?{{:id}}">{{:id}}</a>
      </div>
      <div class="ladder lad_record">{{:record}}</div>
      <div class="ladder lad_past">{{:gamerun}}</div>
    </div>
</script>

<script id="resultTemplate" type="text/x-jsrender">
    <div id="result" class="resultrow">
      <div class="result res_delta res_win res_delta_win">(+{{:delta}})</div>
      <div class="result res_rank res_win">{{:v_rank}}</div>
      <div class="result res_player res_win">
        <a class="idlink" href="player.html?{{:v_id}}">{{:v_id}}</a>
      </div>
      <div class="result res_divider">beat</div>
      <div class="result res_player res_lose">
        <a class="idlink" href="player.html?{{:l_id}}">{{:l_id}}</a>
      </div>
      <div class="result res_rank res_lose">{{:l_rank}}</div>
      <div class="result res_delta res_lose res_delta_lose">(-{{:delta}})</div>
    </div>
</script>

</body>
</html>
